<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>南藤的音乐屋 | 南藤北玄参</title>
<meta name="description" content="唯沉默为最高的轻蔑" />
<link rel="shortcut icon" href="https://nanteng.github.io/favicon.ico">
<link rel="stylesheet" href="https://nanteng.github.io/styles/main.css">

<script src="https://nanteng.github.io/media/js/jquery.min.js"></script>
<script src="https://nanteng.github.io/media/js/masonry.pkgd.min.js"></script>
<script src="https://nanteng.github.io/media/js/aos.js"></script>
<script src="https://nanteng.github.io/media/js/pace.min.js"></script>
<script src="https://nanteng.github.io/media/js/view-image.min.js"></script>
<script src="https://nanteng.github.io/media/js/jquery.magnific-popup.min.js"></script>
<script src="https://nanteng.github.io/media/js/functions.js"></script>
    <meta name="referrer" content="never">
    <meta name="description" content="事情的起因是这样的，我偶然在gitHub看见一个qier222大神开源的音乐项目YesPlayMusic

界面，UI，真心好看，我又爱折腾，想着，部署一个属于自己的播放器
遗憾的是网页版的YesPlayMusic不支持UnblockNet..." />
    <meta name="keywords" content="Linux" />
    <script src="https://nanteng.github.io/media/js/waterfall.min.js"></script>
    <script src="https://nanteng.github.io/media/js/prism.min.js"></script>
  </head>
  <body>
            <header id="header" class="grid-container">
        <!-- start: .menu-wrapper -->
        <div class="menu-mobile"> 
          <i class="fa fa-reorder"></i>
        </div>
        <div class="menu-wrapper">
          <div class="">
            <div class="logo">
              <a href="https://nanteng.github.io"><img src="\media\images\custom-headerLogo.gif" alt=""></a>
            </div>
            <!-- start: .main-nav -->

            <nav class="main-nav grid-container grid-parent">
              <ul id="menu-header" class="menu gradient-effect">
                <li class=""><a href="https://nanteng.github.io" class="menu">首页</a></li>
                
                  <li class="" >
                    <a href="/archives" class="menu">
                      归档
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/tags" class="menu">
                      标签
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="https://cloud.dearkai.cn" class="menu">
                      云盘
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/post/about" class="menu">
                      关于
                    </a>
                  </li>
                
                <li class="search-menu-item hide-on-mobile hide-on-tablet"><a href="#search-lightbox" class="lightbox mfp-inline"><i class="fa fa-search-line"></i></a></li>
              </ul>
            </nav>
            <a href="#search-lightbox" class="lightbox epcl-search-button mfp-inline hide-on-tablet hide-on-desktop"><i class="fa fa-search-line"></i></a>
            <!-- end: .main-nav -->
            <div class="clear"></div>
            <div class="border hide-on-tablet hide-on-mobile"></div>
          </div>    
          <div class="clear"></div>
        </div>
        <!-- end: .menu-wrapper -->
        <div class="clear"></div>
      </header>
      <div class="hide-on-mobile hide-on-tablet hide-on-desktop">
        <div id="search-lightbox" class="grid-container grid-small grid-parent mfp-hide">
          <div class="search-wrapper section">
            <form id="gridea-search-form" data-update="1668567925322" action="/search/index.html" class="search-form" _lpchecked="1">
              <input type="text" name="q" id="s" value="" class="search-field" placeholder="搜点啥..." aria-label="搜点啥..." required="">
              <button type="submit" class="submit" aria-label="Submit">
                <i class="fa fa-search-line"></i>
              </button>
            </form>
          </div>
        </div>
      </div>

      <main id="single" class="main grid-container fullcover no-sidebar aos-init aos-animate" data-aos="fade">

        <div class="center content">
          <div class="featured-image cover" style="background-image: url('https://dearkai.oss-cn-beijing.aliyuncs.com/articles/f77b21681f0d019b93dca624e5c99b21.jpg');">
            <div class="meta top"> 
              <time class="meta-info" style="float:left;" datetime="2021-10-28"><i class="fa fa-calendar"></i><span class="lately">1 年前</span></time>
              
              <a href="https://nanteng.github.io/post/南藤的音乐屋-nan-teng-de-yin-le-wu/#comments" class="comments meta-info" title="">
                <i class="fa fa-comment remixicon"></i><span class="comment-count valine-comment-count" data-xid="/南藤的音乐屋-nan-teng-de-yin-le-wu/"> </span>
              </a>
              <span id="/南藤的音乐屋-nan-teng-de-yin-le-wu/" class="leancloud_visitors views-counter meta-info" title=""><i class="fa fa-leancloud remixicon"></i><span class="leancloud-visitors-count"></span></span>
              
            </div>
            <div class="info">
              <div class="tags ">
                
                      <a href="https://nanteng.github.io/tag/eSKuLZlYEN/" class="ctag ctag-0 ctag-eSKuLZlYEN" aria-label="">Linux</a>
                    
              </div>
              <h1 class="title ularge white bold">南藤的音乐屋</h1>
            </div>
          </div>
        </div>  

        <div class="epcl-page-wrapper">
          <div class="left-content grid-70 np-mobile">
            <article class="main-article post">
              <section class="post-content">
                <div class="text">
                  <p>事情的起因是这样的，我偶然在gitHub看见一个<a href="https://github.com/qier222">qier222大神</a>开源的音乐项目YesPlayMusic<br>
<img src="https://dearkai.oss-cn-beijing.aliyuncs.com/articles/87dcacba77bfff7aa425cf1a7c1e8f04.jpg" alt="QQ截图20211028180431.jpg" loading="lazy"><br>
界面，UI，真心好看，我又爱折腾，想着，部署一个属于自己的播放器</p>
<p>遗憾的是网页版的YesPlayMusic不支持<a href="https://github.com/nondanee/UnblockNeteaseMusic">UnblockNeteaseMusic</a>！不支持<a href="https://github.com/nondanee/UnblockNeteaseMusic">UnblockNeteMusic</a>是什么意思呢？当然是听不了我周董的歌啦！不过问题不大（才怪！！！我折腾了九天！！！！😭），详见<a href="https://www.orzlee.com/toss/2020/12/26/neteasecloudmusicapi-yesplaymusic-unblockneteasemusic-build-your-own-music-station-unblock-copyrightfree-music.html">orzllee</a>大神的博客，要有国内服务器。！！注意是国内的服务器！</p>
<p>以下是操作步骤：先安装Nginx</p>
<h2 id="nginx安装docker下的nginx请忽略"><strong>Nginx安装（Docker下的nginx请忽略）</strong></h2>
<p>查看gcc版本</p>
<pre><code class="language-sh">gcc -v
</code></pre>
<p>如果没有就</p>
<pre><code class="language-sh">yum -y install gcc
</code></pre>
<h3 id="pcre-pcre-devel安装"><strong>pcre、pcre-devel安装</strong></h3>
<pre><code class="language-sh">yum install -y pcre pcre-devel
</code></pre>
<h3 id="zlib安装"><strong>zlib安装</strong></h3>
<pre><code class="language-sh">yum install -y zlib zlib-devel
</code></pre>
<h3 id="安装openssl"><strong>安装openssl</strong></h3>
<pre><code class="language-sh">yum install -y openssl openssl-devel
</code></pre>
<h3 id="安装nginx">安装nginx</h3>
<p>下载nginx压缩包</p>
<pre><code class="language-sh">wget http://nginx.org/download/nginx-1.9.9.tar.gz
</code></pre>
<p><strong>把压缩包解压到usr/local/nginx 没有nginx文件夹记得创建</strong></p>
<pre><code class="language-sh">tar -zxvf  nginx-1.9.9.tar.gz
</code></pre>
<p><strong>切换到cd /usr/local/nginx/nginx-1.9.9/下面,依次执行</strong></p>
<pre><code class="language-sh"> ./configure
 
 make
 
 make install
</code></pre>
<p>扩展：ngin配置，如果提示不支持http2 记得使用然后执行上面步骤2和3</p>
<pre><code class="language-sh">./configure --prefix=/usr/local/nginx --with-openssl=/root/openssl-1.1.1g --with-http_addition_module --with-http_flv_module --with-http_gzip_static_module --with-http_realip_module --with-http_ssl_module --with-http_stub_status_module --with-http_sub_module --with-http_dav_module --with-http_v2_module
</code></pre>
<h3 id="安装nodejs">安装node.js</h3>
<pre><code class="language-sh">curl -sL https://rpm.nodesource.com/setup_10.x | bash - 
yum -y install nodejs
</code></pre>
<p>使用<code>node -v</code>命令查看是否安装成功。</p>
<h2 id="安装neteasecloudmusicapi"><strong>安装NeteaseCloudMusicApi</strong></h2>
<p>没有git的话可以执行此命令<code>yum install git</code>安装</p>
<pre><code class="language-sh">git clone git://github.com/Binaryify/NeteaseCloudMusicApi.git
cd NeteaseCloudMusicApi
npm install
</code></pre>
<h2 id="安装unblockneteasemusic">安装UnblockNeteaseMusic</h2>
<pre><code class="language-sh">git clone git://github.com/nondanee/UnblockNeteaseMusic.git
cd UnblockNeteaseMusic
// node app.js  //运行 不过暂时不用，下文配置supervisor守护进程
</code></pre>
<p><strong>安装Supervisor用来守护进程</strong></p>
<pre><code class="language-sh">yum -y install epel-release
yum -y install supervisor
</code></pre>
<p><strong>使用nano编辑器更改Supervisor默认配置</strong></p>
<p>没有nano先安装：<code>yum -y install nano</code></p>
<pre><code class="language-sh">nano /etc/supervisord.conf
// 最后一行files = supervisord.d/*.ini
// 改为: 👇
files = supervisord.d/*.conf
</code></pre>
<p>使用nano写入以下代码</p>
<p>！！注意要开放<strong>端口 3000 3001 3002</strong></p>
<pre><code class="language-sh">nano /etc/supervisord.d/music-api.conf
</code></pre>
<pre><code class="language-sh">[program:music-api]
command=/bin/bash -c 'PORT=3000 HOST=127.0.0.1 /usr/bin/node /usr/local/vue/NeteaseCloudMusicApi/app.js'
autostart=true
autorestart=true
user=root
numprocs=1
</code></pre>
<pre><code class="language-sh">[program:music-unblock]
command=/usr/bin/node /usr/lcoal/vue/UnblockNeteaseMusic/app.js  -p 3001:3002 -s -f xxx.xxx.xxx -a 127.0.0.1 -e https://xxx.xxx.com
autostart=true
autorestart=true
user=root
numprocs=1
</code></pre>
<p>‼️xxx.xxx.xxx是用你的服务器ping muisc.163.com后得到的ip地址填写就进去就好了，https://xxx.xxx.xxx是你为UnblockNeteMusic配置的域名，填写进去就好了</p>
<figure data-type="image" tabindex="1"><img src="https://dearkai.oss-cn-beijing.aliyuncs.com/articles/1a9bba65c93ece7c05b8d5aa1ee91278.jpg" alt="QQ截图20211028183022.jpg" loading="lazy"></figure>
<p>这里我提一嘴，我是Docker容器中部署的nginx,真的是害惨我了！~！！，Docker中nginx默认配置读取不到宿主机的127.0.0.1IP段，要修改nginx启动配置文件指定网络类型，，!<code>—net=host</code> 🤮</p>
<p>Docker有四种网络模式：</p>
<pre><code class="language-sh">// host模式
–net=host
// 容器和宿主机共享Network namespace。

// container模式
–net=container:NAME_or_ID
// 容器和另外一个容器共享Network namespace。 kubernetes中的pod就是多个容器共享一个Network namespace。

// none模式
–net=none
// 容器有独立的Network namespace，但并没有对其进行任何网络设置，如分配veth pair 和网桥连接，配置IP等。

// bridge模式
–net=bridge
//（默认为该模式）
</code></pre>
<p>运行supervisor</p>
<pre><code class="language-sh">supervisorctl reread //读取配置文件
supervisorctl update //重新更新配置文件
supervisorctl start music-api:*  // 显示运行
supervisorctl start music-unblock:*
error: &lt;class 'socket.error'&gt;, [Errno 2] No such file or directory: file: /usr/lib64/python2.7/socket.py line: 224
//提示这个👆错误用这个代码
/usr/bin/python2 /usr/bin/supervisord -c /etc/supervisor/supervisord.conf

//补充Supercvisor命令
supervisorctl status //查看进程运行状态
supervisorctl start //进程名 启动进程
supervisorctl start laravel-worker:*   //批量启动进程
supervisorctl stop //进程名 关闭进程
supervisorctl restart //进程名 重启进程
supervisorctl shutdown //关闭supervisord
supervisorctl clear //进程名 清空进程日志
supervisorctl //进入到交互模式下。使用help查看所有命令
supervisorctl reread
</code></pre>
<h2 id="开放端口"><strong>开放端口</strong></h2>
<p>一般买的腾讯/阿里的VPS，在你的控制台-服务器-防火墙/安全组里面</p>
<p>以下操作仅限纯净版Liunx</p>
<h3 id="1-开放端口">1、开放端口</h3>
<pre><code class="language-sh">firewall-cmd --zone=public --add-port=3000/tcp --permanent   # 开放3000端口
firewall-cmd --zone=public --add-port=3000/tcp --permanent   # 开放3001端口
firewall-cmd --zone=public --add-port=3000/tcp --permanent   # 开放3002端口
</code></pre>
<pre><code class="language-sh">**firewall-cmd --zone=public --remove-port=3000/tcp --permanent**  #关闭3000端口
</code></pre>
<pre><code class="language-sh">firewall-cmd --reload   # 配置立即生效
</code></pre>
<h3 id="2-查看防火墙所有开放的端口">2、查看防火墙所有开放的端口</h3>
<pre><code class="language-sh">firewall-cmd --zone=public --list-ports
</code></pre>
<h3 id="3-关闭防火墙">3.、关闭防火墙</h3>
<p>如果要开放的端口太多，嫌麻烦，可以关闭防火墙，安全性自行评估</p>
<pre><code class="language-sh">**systemctl stop firewalld.service**
</code></pre>
<h3 id="4-查看防火墙状态">4、查看防火墙状态</h3>
<pre><code class="language-sh">firewall-cmd --state
</code></pre>
<h3 id="5-查看监听的端口">5、查看监听的端口</h3>
<pre><code class="language-sh">netstat -lnpt
</code></pre>
<p>提示未找到命令可以用<code>yum -y install net-tools</code></p>
<h3 id="6-检查端口被哪个进程占用">6、检查端口被哪个进程占用</h3>
<pre><code class="language-sh">netstat -lnpt |grep 5672
</code></pre>
<h3 id="7-查看进程的详细信息">7、查看进程的详细信息</h3>
<pre><code class="language-sh">ps 6832
</code></pre>
<h3 id="8-中止进程">8、中止进程</h3>
<pre><code class="language-sh">kill -9 6832
</code></pre>
<p>（如果提示vim未安装）执行👇</p>
<pre><code class="language-sh">rpm -qa |grep vim //查看少了那些
</code></pre>
<figure data-type="image" tabindex="2"><img src="https://dearkai.oss-cn-beijing.aliyuncs.com/articles/92a9fc0eede3d537973fc1cef33c3511.jpg" alt="QQ截图20211028183722.jpg" loading="lazy"></figure>
<pre><code class="language-sh">//正常应该有以上👆四个文件
yum -y install vim-minimal
yum -y vim-common
yum -y install vim-enhanced
</code></pre>
<p>如果都没有可以全部安装</p>
<pre><code class="language-sh">yum -y install vim*
</code></pre>
<h2 id="yesplaymusic">YesPlayMusic</h2>
<p>下载YesPlaymusic可以取作者GitHub页获取源码并修改编译链接👉<a href="https://github.com/qier222/YesPlayMusic">YesPlayMusic</a></p>
<figure data-type="image" tabindex="3"><img src="https://dearkai.oss-cn-beijing.aliyuncs.com/articles/365ea898702476bef26370399fbb3bb1.jpg" alt="QQ截图20211028184314.jpg" loading="lazy"></figure>
<p>下载到本地使用Idea打开</p>
<pre><code class="language-sh">yarn install
</code></pre>
<p>作者的文档有写复制env.example为env</p>
<p>并替换搭建好的api</p>
<pre><code class="language-sh">  VUE_APP_NETEASE_API_URL=https://NeteaseCloudMusicApi域名 // 修改此处
  VUE_APP_ELECTRON_API_URL=/api
  VUE_APP_ELECTRON_API_URL_DEV=https://xxx.xxx.com     //以及此处
  VUE_APP_ENABLE_SENTRY=false
  DEV_SERVER_PORT=20201
  NODE_ENV=production
  VUE_APP_LASTFM_API_KEY=09c55292403d961aa517ff7f5e8a3d9c
  VUE_APP_LASTFM_API_SHARED_SECRET=307c9fda32b3904e53654baff215cb67
</code></pre>
<p><strong><code>vue.config.js</code>文件可以修改网页标题版权信息。</strong></p>
<p><strong><code>src/mian.js</code>可以修改google analytics追踪代码ID。</strong></p>
<p><strong><code>src/Utils/Player.js</code> 44行 <code>document.title = ${track.name} · ${track.ar[0].name} - YesPlayMusic;</code>这里<code>YesPlayMusic</code>是播放音乐的时候标题尾。</strong></p>
<p><strong>其他 <code>YesPlayMusic</code> 关键词要修改全局代码搜索</strong></p>
<p>修改代码以使用UnblockNeteaseMusic文件路径为<code>YesPlayMusic/src/utils/player.js</code></p>
<pre><code class="language-sh">_getAudioSourceFromNetease(track) {
  if (isAccountLoggedIn()) {
    return getMP3(track.id).then(result =&gt; {
      if (!result.data[0]) return null;
      if (!result.data[0].url) return null;
      if (result.data[0].freeTrialInfo !== null) return null; // 跳过只能试听的歌曲
      const source = result.data[0].url.replace(/^http:/, 'https:');
      if (store.state.settings.automaticallyCacheSongs) {
        cacheTrackSource(track, source, result.data[0].br);
      }
      return source;
    });
  } else {
      //替换如下部分
    let url = `https://music.163.com/song/media/outer/url?id=${track.id}`;
    return getMP3(track.id).then(result =&gt; {
      if (!result.data[0] &amp;&amp; !result.data[0].url &amp;&amp; result.data[0].freeTrialInfo !== null) {
        return url;
      }
      const source = result.data[0].url.replace(/^http:/, 'https:');
      // const source = result.data[0].url;
      if (store.state.settings.automaticallyCacheSongs) {
        cacheTrackSource(track, source, result.data[0].br);
      }
      return source;
    });
  }
}
</code></pre>
<p>编译</p>
<pre><code class="language-sh">yarn run build
</code></pre>
<h2 id="配置nginxconf">配置nginx.conf</h2>
<pre><code class="language-sh">server {
      	listen 80;
    	server_name 你的NeteaseCloudMusicApi域名;
	index index.php;
	
	location / {
		proxy_redirect off;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_pass http://0.0.0.0:3000;
		client_max_body_size 100m;
		client_body_buffer_size 128k;
		proxy_connect_timeout 5;
		proxy_read_timeout 60;
		proxy_send_timeout 5;
		proxy_buffer_size 4K;
		proxy_buffers 4 32k;
		proxy_busy_buffers_size 64k;
		proxy_temp_file_write_size 64k;
		proxy_ignore_client_abort on;
	}
		access_log off;	
}
server {
        listen 443 ssl;
        #填写绑定证书的域名
        server_name 你的NeteaseCloudMusicApi域名;

        #证书文件名称
        ssl_certificate  /usr/local/nginx/cert/你的NeteaseCloudMusicApi域名证书;
        #私钥文件名称
        ssl_certificate_key /usr/local/nginx/cert/你的NeteaseCloudMusicApi域名证书密钥;
        ssl_session_timeout 5m;
        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_prefer_server_ciphers on;

        location / {
               proxy_redirect off;
                proxy_set_header Host $host;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_pass http://0.0.0.0:3000;
                client_max_body_size 100m;
                client_body_buffer_size 128k;
                proxy_connect_timeout 5;
                proxy_read_timeout 60;
                proxy_send_timeout 5;
                proxy_buffer_size 4K;
                proxy_buffers 4 32k;
                proxy_busy_buffers_size 64k;
                proxy_temp_file_write_size 64k;
                proxy_ignore_client_abort on;
       }
}

server {
     listen 80; # 监听80端口
     server_name 你的NeteaseCloudMusicApi域名;  # 绑定证书的域名
     #把http的域名请求转成https
     return 301 https://$host$request_uri; 
}

  server {
      listen 80;
      server_name 你的YesPlayMusic域名; ### 记得替换
      
	location / {
		root /usr/local/vue/music; #你的YesPlayMusic编译上传后的路径
		index index.html index.htm;
	}
	
}
 server {
	listen 443 ssl;
	server_name 你的YesPlayMusic域名;
	
	ssl_certificate  /usr/local/nginx/cert/1_music.dearkai.cn_bundle.crt;
	ssl_certificate_key /usr/local/nginx/cert/2_music.dearkai.cn.key;
	ssl_session_timeout 5m;
	ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;
	ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
	ssl_prefer_server_ciphers on;
	
	location / {
		root /usr/local/vue/music; #你的YesPlayMusic编译上传后的路径
		index index.html index.htm;
		}
}
server {
	listen 80;
	server_name 你的YesPlayMusic域名;
	return 301 https://$host$request_uri; 
}
server {
	listen 80;
	server_name music.163.com *.music.163.com; #此处为网易云音乐的域名，不用替换
	location / {
		proxy_set_header Host $http_host;
		proxy_pass http://127.0.0.1:3001;
	}
}
server {
	listen 443 ssl;
	server_name music.163.com *.music.163.com;
	ssl_certificate /usr/local/vue/UnblockNeteaseMusic/server.crt;#域名证书，默认在UnblockNeteaseMusic文件目录下
	ssl_certificate_key /usr/local/vue/UnblockNeteaseMusic/server.key;#域名证书密钥，默认在UnblockNeteaseMusic文件目录下
	ssl_protocols  TLSv1 TLSv1.1 TLSv1.2;
	ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;
	ssl_prefer_server_ciphers on;
	ssl_session_cache shared:SSL:10m;
	ssl_session_timeout 10m;
	
	location / {
		proxy_set_header Host $http_host;
		proxy_pass https://127.0.0.1:3002;
	}
}
##nginx反向代理歌曲Url
server {
	listen 443;
	server_name 你的UnblockNeteaseMusic域名;
	ssl on;
	ssl_certificate /usr/local/nginx/cert/1_unblock.dearkai.cn_bundle.crt;
	ssl_certificate_key /usr/local/nginx/cert/2_unblock.dearkai.cn.key;
	ssl_session_timeout 5m;
	ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
	ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;
	ssl_prefer_server_ciphers on;
	
	location / {
	proxy_pass http://localhost:3001;
		}
}

}
</code></pre>
<p>修改<code>Hosts</code>文件路径为<code>/etc/hosts</code> 末尾添加,把域名劫持到本机，<a href="https://github.com/Binaryify/NeteaseCloudMusicApi">NeteaseCloudMusicApi</a>请求API就会通过nginx到<a href="https://github.com/nondanee/UnblockNeteaseMusic">UnblockNeteaseMusic</a>，让<a href="https://github.com/nondanee/UnblockNeteaseMusic">UnblockNeteaseMusic</a>通过其他音乐平台获取相关资源：</p>
<pre><code class="language-sh">127.0.0.1 music.163.com
127.0.0.1 interface.music.163.com
127.0.0.1 music.126.net
127.0.0.1 interface3.music.163.com
</code></pre>
<p><code>nginx -t</code>看看有错误没有,没错误<code>nginx -s reload</code>,然后打开网站看看。</p>
<p>Docker的同学请使用 <code>docker restart nginx</code></p>
<blockquote>
<p>特别感谢<a href="https://www.orzlee.com/">orzlee</a> 大神，我都给人家问烦了，哈哈！没办法谁让我爱折腾呢！，这次确实学习到了不少的东西，同时也意识到自己有很多的不足之处。更让我有学习下去的动力了！喜欢才回去探索，才会努力去寻找问题的答案！这是一件好事。</p>
</blockquote>
<p>好啦！这次的成品<a href="https://music.dearkai.cn">南藤的音乐屋</a>欢迎大家访问。</p>
<p>—END</p>

                </div>
                <div class="clear"></div>
              </section>
            </article>
            <div class="clear"></div>

            <section class="related section">
              
              <article class="prev grid-50 tablet-grid-50 grid-parent">
                <div class="thumb cover lazy loaded" style="background-image: url('https://dearkai.oss-cn-beijing.aliyuncs.com//halo//bj49_1640711135857.jpg');"></div>
                 <a href="https://nanteng.github.io/post/服务器集群探针-fu-wu-qi-ji-qun-tan-zhen/" class="full-link"></a>
                 <div class="info">
                  <time datetime="2021-11-29">2021-11-29</time>
                  <h4 class="title white no-margin">服务器集群探针</h4>
                </div>
                 <span class="epcl-button red">
                  <img src="https://nanteng.github.io/media/images/left-arrow.svg" width="15" alt="Left Arrow">
                </span>
                <div class="overlay"></div>
              </article>
              
              
              <article class="next grid-50 tablet-grid-50 grid-parent">
                <div class="thumb cover lazy loaded" style="background-image: url('https://dearkai.oss-cn-beijing.aliyuncs.com/articles/956138b0b963e041d7faaa3109bf6951.jpg');"></div>
                 <a href="https://nanteng.github.io/post/Notion使用体验·壹-notion-shi-yong-ti-yan--yi/" class="full-link"></a>
                 <div class="info">
                  <time datetime="2021-09-16">2021-09-16</time>
                  <h4 class="title white no-margin">Notion使用体验·壹</h4>
                </div>
                 <span class="epcl-button red">
                  <img src="https://nanteng.github.io/media/images/right-arrow.svg" width="15" alt="Left Arrow">
                </span>
                <div class="overlay"></div>
              </article>
              

                <div class="clear"></div>
            </section>

              <div class="clear"></div>
              
            
              <div id="comments" class="bg-white hosted ">
                <div class="clear"></div>
<script>
jQuery(document).ready(function($){
    $('.vemoji-btn').text('😀');
    $("#comments").on('click', 'span.vat',function(){
        $(this).parent('div.vmeta').next("div.vcontent").after($("div.vwrap"));
        $('textarea#veditor').focus();
    })
    if(window.location.hash){
        var checkExist = setInterval(function() {
            if ($(window.location.hash).length) {
                $('html, body').animate({scrollTop: $(window.location.hash).offset().top-200}, 600);
                clearInterval(checkExist);
            }
        }, 100);
    }
})
</script>

              </div>
            

            </div>
          </div>
      </main>

          <footer id="footer" class="grid-container">
        <div class="widgets row gradient-effect">
            <div class="default-sidebar border-effect">
              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_epcl_posts_thumbs underline-effect">
                  <h4 class="widget-title title white bordered">最新文章</h4>
                  
                  
                  <article class="item post-0 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://nanteng.github.io/post/mavenbasics/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('https://dearkai.oss-cn-beijing.aliyuncs.com/typora-img/tumblr_b38009612775acb3f606c15e4ca4cfb0_9b8bb164_1280.png');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2022-11-16">2022-11-16</time>
                      <h4 class="title usmall">
                        <a href="https://nanteng.github.io/post/mavenbasics/">MavenBasics</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-1 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://nanteng.github.io/post/ssm-zheng-he/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('https://dearkai.oss-cn-beijing.aliyuncs.com/typora-img/お豆腐_99167071.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2022-11-15">2022-11-15</time>
                      <h4 class="title usmall">
                        <a href="https://nanteng.github.io/post/ssm-zheng-he/">SSM整合</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-2 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://nanteng.github.io/post/springmvc/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('https://dearkai.oss-cn-beijing.aliyuncs.com/typora-img/20221112_004658.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2022-11-15">2022-11-15</time>
                      <h4 class="title usmall">
                        <a href="https://nanteng.github.io/post/springmvc/">SpringMVC</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_tag_cloud underline-effect">
                  <h4 class="widget-title title white bordered">标签云</h4>
                  <div class="tagcloud">
                    
                      <a href="https://nanteng.github.io/tag/TtKdK6ur-/" class="ctag ctag-0 ctag-TtKdK6ur-" aria-label="">Java</a>
                    
                      <a href="https://nanteng.github.io/tag/Pb31zuZQs/" class="ctag ctag-1 ctag-Pb31zuZQs" aria-label="">诗歌</a>
                    
                      <a href="https://nanteng.github.io/tag/wFMTkH_sNe/" class="ctag ctag-2 ctag-wFMTkH_sNe" aria-label="">日记</a>
                    
                      <a href="https://nanteng.github.io/tag/q1drPjJv3/" class="ctag ctag-3 ctag-q1drPjJv3" aria-label="">随笔</a>
                    
                      <a href="https://nanteng.github.io/tag/eSKuLZlYEN/" class="ctag ctag-4 ctag-eSKuLZlYEN" aria-label="">Linux</a>
                    
                      <a href="https://nanteng.github.io/tag/i9Zqgezw0Q/" class="ctag ctag-5 ctag-i9Zqgezw0Q" aria-label="">体验</a>
                    
                      <a href="https://nanteng.github.io/tag/VxnVWpClHS/" class="ctag ctag-6 ctag-VxnVWpClHS" aria-label="">软件</a>
                    
                      <a href="https://nanteng.github.io/tag/1DZ-nCoLTA/" class="ctag ctag-7 ctag-1DZ-nCoLTA" aria-label="">信件</a>
                    
                      <a href="https://nanteng.github.io/tag/Fcf3eo9iSf/" class="ctag ctag-8 ctag-Fcf3eo9iSf" aria-label="">CentOS</a>
                    
                  </div>
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="epcl_about-2" class="widget widget_epcl_about underline-effect">
                  <h4 class="widget-title title white bordered">关于我</h4>
                  <div class="avatar">
                    <a href="" class="translate-effect thumb"><span class="fullimage cover" style="background-image: url(https://nanteng.github.io/images/avatar.png);"></span></a>
                  </div>
                  <div class="info">
                    <h4 class="title small author-name gradient-effect no-margin"><a href="">南藤北玄参</a></h4>
                    <p class="founder">唯沉默为最高的轻蔑</p>
                    <div class="social">
                      
                          
                            <a href="https://github.com/NanTeng" class="translate-effect" target="_blank"><i class="fa fa-github"></i></a>
                        
                      
                          
                            <a href="https://twitter.com/NanTeng418" class="translate-effect" target="_blank"><i class="fa fa-twitter"></i></a>
                        
                      
                        
                      
                          
                            <a href="https://t.me/NanTeng" class="translate-effect" target="_blank"><i class="fa fa-telegram"></i></a>
                        
                      
                        
                      
                    </div> 
                  </div>
                  <div class="clear"></div>
                  </section>
              </div>

            </div>
            <div class="clear"></div>
        </div>

        <div class="logo">
          <a href="https://nanteng.github.io"><img src="\media\images\custom-footerLogo.gif" alt=""></a>
        </div>
        <p class="published border-effect">
          ©2019 共 28 篇文章
          <br/>
          Theme <a href="https://gridea.dev/" target="_blank">「breek」</a> Powered by <a href="https://gridea.dev/" target="_blank">「Gridea」</a>
        </p>
        
        <a href="javascript:void(0)" id="back-to-top" class="epcl-button dark" style="display:none">
          <i class="fa fa-arrow"></i>
        </a>
    </footer>
    
    <div class="clear"></div>

        
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/valine/1.3.10/Valine.Pure.min.js"></script>
<script>
    new Valine({
        el: '#comments',
        appId: 'JCYzcWAfC7BkMZHJ3hrKx85t-gzGzoHsz' ,
        appKey: 'r89Wpg7b2oYFtiu1JGnthBzN',
        pageSize: 30,
        placeholder: '既然来了，那就留个痕迹吧~',
        visitor: true // 阅读量统计
    })
</script>
    

      
    <script src="https://nanteng.github.io/media/js/functions-post.js"></script>

    </div>
    <!-- end: #wrapper -->
  </body>
</html>
